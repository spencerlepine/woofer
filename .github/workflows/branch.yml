name: branch_check

on:
  push:
    branches:
      - '*'
      - '!main'

jobs:

  node_ci:
    uses: ./.github/workflows/node_ci.yml

  docker_ci:
    uses: ./.github/workflows/docker_ci.yml
    secrets:
      ENV_PRODUCTION: ${{ secrets.ENV_PRODUCTION }}
      DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
      DOCKERHUB_PASSWORD: ${{ secrets.DOCKERHUB_PASSWORD }}